Starting Container
{
  severity_local: 'NOTICE',
  severity: 'NOTICE',
  code: '42701',
  message: 'column "anotacoes" of relation "salas" already exists, skipping',
  file: 'tablecmds.c',
  line: '7471',
  routine: 'check_for_column_name_collision'
}
Coluna 'anotacoes' verificada/adicionada na tabela 'salas'.
{
  severity_local: 'NOTICE',
  severity: 'NOTICE',
  code: '42P07',
  message: 'relation "ocorrencias_computador" already exists, skipping',
  file: 'parse_utilcmd.c',
  line: '207',
  routine: 'transformCreateStmt'
}
Tabela 'ocorrencias_computador' verificada/criada.
Sincronização concluída com sucesso!
npm warn config production Use `--omit=dev` instead.
npm warn config production Use `--omit=dev` instead.
> rest-express@1.0.0 prestart
> tsx server/update-db-railway.ts && npx drizzle-kit push --force
Iniciando atualização do banco de dados no Railway...
No config path provided, using default 'drizzle.config.ts'
Reading config file '/app/drizzle.config.ts'
Using 'pg' driver for database querying
[⣷] Pulling schema from database...
[⣯] Pulling schema from database...
[⣟] Pulling schema from database...
[⡿] Pulling schema from database...
[⢿] Pulling schema from database...
  file: 'tablecmds.c',
    at /app/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
[⣻] Pulling schema from database...
    at async Object.query (/app/node_modules/drizzle-kit/bin.cjs:80622:26)
[⣽] Pulling schema from database...
[✓] Pulling schema from database...
error: column "turma_id" of relation "avaliacoes" contains null values
    at async pgPush (/app/node_modules/drizzle-kit/bin.cjs:84432:13)
    at async Object.handler (/app/node_modules/drizzle-kit/bin.cjs:93871:9)
    at async run (/app/node_modules/drizzle-kit/bin.cjs:93117:7) {
  length: 156,
  severity: 'ERROR',
  code: '23502',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: 'public',
  table: 'avaliacoes',
  column: 'turma_id',
  dataType: undefined,
  constraint: undefined,
  line: '6279',
  routine: 'ATRewriteTable'
}
> rest-express@1.0.0 start
> node --max-old-space-size=450 dist/index.cjs
Railway: Running database sync (db:push)...
Railway: Initializing database check (post-startup)...
4:48:21 PM [express] serving on port 8080
Railway: Database connection successful.